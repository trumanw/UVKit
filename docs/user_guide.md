# UVKit 用户指南

## 简介

UVKit是一个专业的UV-Vis光谱数据分析与可视化平台，专为化学、材料科学等领域的科研人员设计。本指南将帮助您快速上手使用UVKit进行光谱数据分析。

## 快速开始

### 1. 安装和运行

1. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

2. **运行应用**
   ```bash
   streamlit run app.py
   ```

3. **访问应用**
   打开浏览器访问 http://localhost:8501

### 2. 数据准备

UVKit支持CSV格式的光谱数据文件，数据格式要求：

- **第一列**：波长数据（单位：nm）
- **第二列开始**：各实验的吸光度数据
- **文件格式**：标准CSV格式，逗号分隔

示例数据格式：
```csv
Wavelength,Experiment1,Experiment2,Experiment3
200,0.123,0.145,0.167
201,0.125,0.147,0.169
202,0.128,0.149,0.171
...
```

## 功能使用指南

### 1. 数据上传

1. 在左侧边栏的"数据上传"区域
2. 点击"选择CSV文件"按钮
3. 选择您的光谱数据文件
4. 系统会自动验证数据格式并加载

### 2. 数据可视化

在"数据可视化"标签页中：

- **数据预览**：查看上传数据的统计信息和前10行数据
- **光谱曲线**：显示所有光谱的吸光度曲线
- **交互功能**：支持缩放、平移、悬停查看数据点

### 3. 相似度分析

在"相似度分析"标签页中：

1. **选择参考光谱**：从下拉菜单中选择作为基准的参考光谱
2. **开始分析**：点击"开始相似度分析"按钮
3. **查看结果**：系统会显示三种算法的相似度计算结果：
   - SAM（Spectral Angle Mapper）相似度
   - 余弦相似度
   - 皮尔逊相关系数

### 4. 数据导出

在"数据导出"标签页中：

- **导出光谱数据**：下载CSV格式的原始光谱数据
- **导出相似度结果**：下载包含所有相似度计算结果的CSV文件

## 算法说明

### 1. Spectral Angle Mapper (SAM)

SAM算法计算两个光谱向量之间的夹角余弦值，然后转换为相似度分数。

- **输出范围**：0-1（1表示完全相同）
- **特点**：对光谱形状变化敏感，适用于光谱模式识别

### 2. 余弦相似度

计算两个光谱向量的余弦相似度。

- **输出范围**：-1到1（1表示完全相同，-1表示完全相反）
- **特点**：衡量光谱向量的方向相似性，对幅度变化不敏感

### 3. 皮尔逊相关系数

计算两个光谱数据序列的线性相关性。

- **输出范围**：-1到1（1表示完全正相关，-1表示完全负相关）
- **特点**：衡量光谱数据的线性关系，对异常值敏感

## 数据格式要求

### 文件格式
- 支持的文件格式：CSV
- 最大文件大小：50MB
- 编码格式：UTF-8

### 数据要求
- 波长数据必须为数值类型
- 波长数据必须单调递增
- 吸光度数据必须为数值类型
- 数据不能包含缺失值

### 数据验证
系统会自动验证：
- 文件格式是否正确
- 数据完整性
- 数值范围合理性
- 波长连续性

## 常见问题

### Q1: 上传文件后没有显示数据？
A: 请检查：
- 文件格式是否为CSV
- 第一列是否为波长数据
- 数据是否包含缺失值
- 文件大小是否超过50MB

### Q2: 相似度分析结果异常？
A: 请检查：
- 参考光谱是否选择正确
- 数据是否经过预处理
- 波长范围是否一致

### Q3: 如何选择合适的相似度算法？
A: 
- **SAM**：适用于光谱形状比较
- **余弦相似度**：适用于方向相似性分析
- **皮尔逊相关系数**：适用于线性关系分析

### Q4: 如何导出高质量图表？
A: 目前支持导出CSV格式的数据，图表导出功能正在开发中。

## 技术支持

如果您在使用过程中遇到问题，请：

1. 查看本用户指南
2. 检查数据格式是否符合要求
3. 查看错误提示信息
4. 联系技术支持团队

## 更新日志

### v1.0.0
- 初始版本发布
- 支持CSV数据导入
- 实现三种相似度算法
- 基础可视化功能
- 数据导出功能
